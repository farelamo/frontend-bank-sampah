<template>
  <div v-if="isNasabah" class="grid grid-cols-1 gap-5">
    <div class="py-3 px-2 rounded-xl bg-white h-24">
      <div class="flex flex-row gap-5">
        <div class="rounded-full bg-surface p-3">
          <svg width="33" height="35" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M30.375 6.75H5.625C5.32663 6.75 5.04048 6.86853 4.82951 7.0795C4.61853 7.29048 4.5 7.57663 4.5 7.875C4.5 8.17337 4.61853 8.45952 4.82951 8.6705C5.04048 8.88147 5.32663 9 5.625 9H6.75V29.25C6.75 29.8467 6.98705 30.419 7.40901 30.841C7.83097 31.2629 8.40326 31.5 9 31.5H27C27.5967 31.5 28.169 31.2629 28.591 30.841C29.0129 30.419 29.25 29.8467 29.25 29.25V9H30.375C30.6734 9 30.9595 8.88147 31.1705 8.6705C31.3815 8.45952 31.5 8.17337 31.5 7.875C31.5 7.57663 31.3815 7.29048 31.1705 7.0795C30.9595 6.86853 30.6734 6.75 30.375 6.75ZM27 29.25H9V9H27V29.25ZM11.25 3.375C11.25 3.07663 11.3685 2.79048 11.5795 2.5795C11.7905 2.36853 12.0766 2.25 12.375 2.25H23.625C23.9234 2.25 24.2095 2.36853 24.4205 2.5795C24.6315 2.79048 24.75 3.07663 24.75 3.375C24.75 3.67337 24.6315 3.95952 24.4205 4.1705C24.2095 4.38147 23.9234 4.5 23.625 4.5H12.375C12.0766 4.5 11.7905 4.38147 11.5795 4.1705C11.3685 3.95952 11.25 3.67337 11.25 3.375Z"
              fill="#155F2F" />
          </svg>
        </div>
        <div class="flex flex-col text-left">
          <p class="text-sm">Jumlah Sampah</p>
          <h1 class="mt-1 font-bold text-3xl">{{ totalSampah }}</h1>
        </div>
      </div>
    </div>
  </div>
  <div v-if="isAdmin" class="grid grid-cols-2 gap-5">
    <div class="py-3 px-2 rounded-xl bg-white h-24">
      <div class="flex flex-row gap-5">
        <div class="rounded-full bg-surface p-3">
          <svg width="34" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M3.825 17.775C3.94319 17.8636 4.07768 17.9281 4.2208 17.9648C4.36391 18.0015 4.51285 18.0096 4.6591 17.9887C4.80535 17.9678 4.94606 17.9183 5.07318 17.843C5.2003 17.7678 5.31136 17.6682 5.4 17.55C6.08114 16.6418 6.96437 15.9047 7.97975 15.397C8.99513 14.8893 10.1148 14.625 11.25 14.625C12.3852 14.625 13.5049 14.8893 14.5202 15.397C15.5356 15.9047 16.4189 16.6418 17.1 17.55C17.2792 17.7885 17.5458 17.946 17.8412 17.9879C18.1366 18.0299 18.4365 17.9528 18.675 17.7736C18.76 17.7104 18.8354 17.635 18.8986 17.55C19.5797 16.6418 20.463 15.9047 21.4783 15.397C22.4937 14.8893 23.6134 14.625 24.7486 14.625C25.8838 14.625 27.0035 14.8893 28.0188 15.397C29.0342 15.9047 29.9175 16.6418 30.5986 17.55C30.7778 17.7887 31.0445 17.9464 31.34 17.9885C31.6355 18.0306 31.9356 17.9535 32.1743 17.7743C32.413 17.5951 32.5707 17.3284 32.6128 17.0329C32.6548 16.7374 32.5778 16.4373 32.3986 16.1986C31.4028 14.8636 30.0749 13.8125 28.5469 13.1498C29.3846 12.385 29.9715 11.3848 30.2305 10.2805C30.4896 9.17621 30.4088 8.01937 29.9986 6.96181C29.5885 5.90426 28.8682 4.99542 27.9322 4.35456C26.9963 3.7137 25.8885 3.37077 24.7542 3.37077C23.6199 3.37077 22.5121 3.7137 21.5762 4.35456C20.6403 4.99542 19.92 5.90426 19.5098 6.96181C19.0997 8.01937 19.0188 9.17621 19.2779 10.2805C19.537 11.3848 20.1239 12.385 20.9616 13.1498C19.8583 13.6269 18.856 14.3099 18.0084 15.1622C17.1609 14.3099 16.1586 13.6269 15.0553 13.1498C15.893 12.385 16.4799 11.3848 16.739 10.2805C16.998 9.17621 16.9172 8.01937 16.5071 6.96181C16.0969 5.90426 15.3766 4.99542 14.4407 4.35456C13.5048 3.7137 12.397 3.37077 11.2627 3.37077C10.1284 3.37077 9.02055 3.7137 8.08463 4.35456C7.14872 4.99542 6.42842 5.90426 6.01826 6.96181C5.60811 8.01937 5.52727 9.17621 5.78634 10.2805C6.04542 11.3848 6.63231 12.385 7.47 13.1498C5.93529 13.8104 4.60083 14.8621 3.6 16.2C3.51136 16.3182 3.44686 16.4527 3.4102 16.5958C3.37353 16.7389 3.36541 16.8878 3.38631 17.0341C3.4072 17.1804 3.4567 17.3211 3.53197 17.4482C3.60724 17.5753 3.70681 17.6864 3.825 17.775ZM24.75 5.625C25.4175 5.625 26.07 5.82294 26.625 6.19379C27.1801 6.56464 27.6126 7.09175 27.8681 7.70845C28.1235 8.32515 28.1904 9.00375 28.0602 9.65843C27.9299 10.3131 27.6085 10.9145 27.1365 11.3865C26.6645 11.8585 26.0631 12.1799 25.4084 12.3102C24.7537 12.4404 24.0751 12.3735 23.4584 12.1181C22.8417 11.8627 22.3146 11.4301 21.9438 10.8751C21.5729 10.32 21.375 9.66751 21.375 9C21.375 8.1049 21.7306 7.24645 22.3635 6.61352C22.9964 5.98058 23.8549 5.625 24.75 5.625ZM11.25 5.625C11.9175 5.625 12.57 5.82294 13.125 6.19379C13.6801 6.56464 14.1126 7.09175 14.3681 7.70845C14.6235 8.32515 14.6904 9.00375 14.5602 9.65843C14.4299 10.3131 14.1085 10.9145 13.6365 11.3865C13.1645 11.8585 12.5631 12.1799 11.9084 12.3102C11.2537 12.4404 10.5751 12.3735 9.95844 12.1181C9.34174 11.8627 8.81464 11.4301 8.44379 10.8751C8.07294 10.32 7.875 9.66751 7.875 9C7.875 8.1049 8.23058 7.24645 8.86351 6.61352C9.49645 5.98058 10.3549 5.625 11.25 5.625ZM28.5469 27.7748C29.3846 27.01 29.9715 26.0098 30.2305 24.9055C30.4896 23.8012 30.4088 22.6444 29.9986 21.5868C29.5885 20.5293 28.8682 19.6204 27.9322 18.9796C26.9963 18.3387 25.8885 17.9958 24.7542 17.9958C23.6199 17.9958 22.5121 18.3387 21.5762 18.9796C20.6403 19.6204 19.92 20.5293 19.5098 21.5868C19.0997 22.6444 19.0188 23.8012 19.2779 24.9055C19.537 26.0098 20.1239 27.01 20.9616 27.7748C19.8583 28.2519 18.856 28.9349 18.0084 29.7872C17.1609 28.9349 16.1586 28.2519 15.0553 27.7748C15.893 27.01 16.4799 26.0098 16.739 24.9055C16.998 23.8012 16.9172 22.6444 16.5071 21.5868C16.0969 20.5293 15.3766 19.6204 14.4407 18.9796C13.5048 18.3387 12.397 17.9958 11.2627 17.9958C10.1284 17.9958 9.02055 18.3387 8.08463 18.9796C7.14872 19.6204 6.42842 20.5293 6.01826 21.5868C5.60811 22.6444 5.52727 23.8012 5.78634 24.9055C6.04542 26.0098 6.63231 27.01 7.47 27.7748C5.93529 28.4354 4.60083 29.4871 3.6 30.825C3.51136 30.9432 3.44686 31.0777 3.4102 31.2208C3.37353 31.3639 3.36541 31.5128 3.38631 31.6591C3.4072 31.8054 3.4567 31.9461 3.53197 32.0732C3.60724 32.2003 3.70681 32.3114 3.825 32.4C3.94319 32.4886 4.07768 32.5531 4.2208 32.5898C4.36391 32.6265 4.51285 32.6346 4.6591 32.6137C4.80535 32.5928 4.94606 32.5433 5.07318 32.468C5.2003 32.3928 5.31136 32.2932 5.4 32.175C6.08114 31.2668 6.96437 30.5297 7.97975 30.022C8.99513 29.5143 10.1148 29.25 11.25 29.25C12.3852 29.25 13.5049 29.5143 14.5202 30.022C15.5356 30.5297 16.4189 31.2668 17.1 32.175C17.2792 32.4135 17.5458 32.571 17.8412 32.6129C18.1366 32.6549 18.4365 32.5778 18.675 32.3986C18.76 32.3354 18.8354 32.26 18.8986 32.175C19.5797 31.2668 20.463 30.5297 21.4783 30.022C22.4937 29.5143 23.6134 29.25 24.7486 29.25C25.8838 29.25 27.0035 29.5143 28.0188 30.022C29.0342 30.5297 29.9175 31.2668 30.5986 32.175C30.7778 32.4137 31.0445 32.5714 31.34 32.6135C31.6355 32.6556 31.9356 32.5785 32.1743 32.3993C32.413 32.2201 32.5707 31.9534 32.6128 31.6579C32.6548 31.3624 32.5778 31.0623 32.3986 30.8236C31.4028 29.4886 30.0749 28.4375 28.5469 27.7748ZM11.25 20.25C11.9175 20.25 12.57 20.4479 13.125 20.8188C13.6801 21.1896 14.1126 21.7167 14.3681 22.3334C14.6235 22.9501 14.6904 23.6287 14.5602 24.2834C14.4299 24.9381 14.1085 25.5395 13.6365 26.0115C13.1645 26.4835 12.5631 26.8049 11.9084 26.9352C11.2537 27.0654 10.5751 26.9985 9.95844 26.7431C9.34174 26.4876 8.81464 26.0551 8.44379 25.5C8.07294 24.945 7.875 24.2925 7.875 23.625C7.875 22.7299 8.23058 21.8715 8.86351 21.2385C9.49645 20.6056 10.3549 20.25 11.25 20.25ZM24.75 20.25C25.4175 20.25 26.07 20.4479 26.625 20.8188C27.1801 21.1896 27.6126 21.7167 27.8681 22.3334C28.1235 22.9501 28.1904 23.6287 28.0602 24.2834C27.9299 24.9381 27.6085 25.5395 27.1365 26.0115C26.6645 26.4835 26.0631 26.8049 25.4084 26.9352C24.7537 27.0654 24.0751 26.9985 23.4584 26.7431C22.8417 26.4876 22.3146 26.0551 21.9438 25.5C21.5729 24.945 21.375 24.2925 21.375 23.625C21.375 22.7299 21.7306 21.8715 22.3635 21.2385C22.9964 20.6056 23.8549 20.25 24.75 20.25Z"
              fill="#155F2F" />
          </svg>
        </div>
        <div class="flex flex-col text-left">
          <p class="text-sm">Jumlah Nasabah Terdaftar</p>
          <h1 class="mt-1 font-bold text-3xl">{{ totalNasabah }}</h1>
        </div>
      </div>
    </div>
    <div class="py-3 px-2 rounded-xl bg-white h-24">
      <div class="flex flex-row gap-5">
        <div class="rounded-full bg-surface p-3">
          <svg width="33" height="35" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M30.375 6.75H5.625C5.32663 6.75 5.04048 6.86853 4.82951 7.0795C4.61853 7.29048 4.5 7.57663 4.5 7.875C4.5 8.17337 4.61853 8.45952 4.82951 8.6705C5.04048 8.88147 5.32663 9 5.625 9H6.75V29.25C6.75 29.8467 6.98705 30.419 7.40901 30.841C7.83097 31.2629 8.40326 31.5 9 31.5H27C27.5967 31.5 28.169 31.2629 28.591 30.841C29.0129 30.419 29.25 29.8467 29.25 29.25V9H30.375C30.6734 9 30.9595 8.88147 31.1705 8.6705C31.3815 8.45952 31.5 8.17337 31.5 7.875C31.5 7.57663 31.3815 7.29048 31.1705 7.0795C30.9595 6.86853 30.6734 6.75 30.375 6.75ZM27 29.25H9V9H27V29.25ZM11.25 3.375C11.25 3.07663 11.3685 2.79048 11.5795 2.5795C11.7905 2.36853 12.0766 2.25 12.375 2.25H23.625C23.9234 2.25 24.2095 2.36853 24.4205 2.5795C24.6315 2.79048 24.75 3.07663 24.75 3.375C24.75 3.67337 24.6315 3.95952 24.4205 4.1705C24.2095 4.38147 23.9234 4.5 23.625 4.5H12.375C12.0766 4.5 11.7905 4.38147 11.5795 4.1705C11.3685 3.95952 11.25 3.67337 11.25 3.375Z"
              fill="#155F2F" />
          </svg>
        </div>
        <div class="flex flex-col text-left">
          <p class="text-sm">Jumlah Sampah</p>
          <h1 class="mt-1 font-bold text-3xl">{{ totalSampah }}</h1>
        </div>
      </div>
    </div>
  </div>
  <div v-if="isSuperadmin" class="grid grid-cols-3 gap-5">
    <div class="py-3 px-2 rounded-xl bg-white h-24">
      <div class="flex flex-row gap-5">
        <div class="rounded-full bg-surface p-3">
          <svg width="34" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M3.825 17.775C3.94319 17.8636 4.07768 17.9281 4.2208 17.9648C4.36391 18.0015 4.51285 18.0096 4.6591 17.9887C4.80535 17.9678 4.94606 17.9183 5.07318 17.843C5.2003 17.7678 5.31136 17.6682 5.4 17.55C6.08114 16.6418 6.96437 15.9047 7.97975 15.397C8.99513 14.8893 10.1148 14.625 11.25 14.625C12.3852 14.625 13.5049 14.8893 14.5202 15.397C15.5356 15.9047 16.4189 16.6418 17.1 17.55C17.2792 17.7885 17.5458 17.946 17.8412 17.9879C18.1366 18.0299 18.4365 17.9528 18.675 17.7736C18.76 17.7104 18.8354 17.635 18.8986 17.55C19.5797 16.6418 20.463 15.9047 21.4783 15.397C22.4937 14.8893 23.6134 14.625 24.7486 14.625C25.8838 14.625 27.0035 14.8893 28.0188 15.397C29.0342 15.9047 29.9175 16.6418 30.5986 17.55C30.7778 17.7887 31.0445 17.9464 31.34 17.9885C31.6355 18.0306 31.9356 17.9535 32.1743 17.7743C32.413 17.5951 32.5707 17.3284 32.6128 17.0329C32.6548 16.7374 32.5778 16.4373 32.3986 16.1986C31.4028 14.8636 30.0749 13.8125 28.5469 13.1498C29.3846 12.385 29.9715 11.3848 30.2305 10.2805C30.4896 9.17621 30.4088 8.01937 29.9986 6.96181C29.5885 5.90426 28.8682 4.99542 27.9322 4.35456C26.9963 3.7137 25.8885 3.37077 24.7542 3.37077C23.6199 3.37077 22.5121 3.7137 21.5762 4.35456C20.6403 4.99542 19.92 5.90426 19.5098 6.96181C19.0997 8.01937 19.0188 9.17621 19.2779 10.2805C19.537 11.3848 20.1239 12.385 20.9616 13.1498C19.8583 13.6269 18.856 14.3099 18.0084 15.1622C17.1609 14.3099 16.1586 13.6269 15.0553 13.1498C15.893 12.385 16.4799 11.3848 16.739 10.2805C16.998 9.17621 16.9172 8.01937 16.5071 6.96181C16.0969 5.90426 15.3766 4.99542 14.4407 4.35456C13.5048 3.7137 12.397 3.37077 11.2627 3.37077C10.1284 3.37077 9.02055 3.7137 8.08463 4.35456C7.14872 4.99542 6.42842 5.90426 6.01826 6.96181C5.60811 8.01937 5.52727 9.17621 5.78634 10.2805C6.04542 11.3848 6.63231 12.385 7.47 13.1498C5.93529 13.8104 4.60083 14.8621 3.6 16.2C3.51136 16.3182 3.44686 16.4527 3.4102 16.5958C3.37353 16.7389 3.36541 16.8878 3.38631 17.0341C3.4072 17.1804 3.4567 17.3211 3.53197 17.4482C3.60724 17.5753 3.70681 17.6864 3.825 17.775ZM24.75 5.625C25.4175 5.625 26.07 5.82294 26.625 6.19379C27.1801 6.56464 27.6126 7.09175 27.8681 7.70845C28.1235 8.32515 28.1904 9.00375 28.0602 9.65843C27.9299 10.3131 27.6085 10.9145 27.1365 11.3865C26.6645 11.8585 26.0631 12.1799 25.4084 12.3102C24.7537 12.4404 24.0751 12.3735 23.4584 12.1181C22.8417 11.8627 22.3146 11.4301 21.9438 10.8751C21.5729 10.32 21.375 9.66751 21.375 9C21.375 8.1049 21.7306 7.24645 22.3635 6.61352C22.9964 5.98058 23.8549 5.625 24.75 5.625ZM11.25 5.625C11.9175 5.625 12.57 5.82294 13.125 6.19379C13.6801 6.56464 14.1126 7.09175 14.3681 7.70845C14.6235 8.32515 14.6904 9.00375 14.5602 9.65843C14.4299 10.3131 14.1085 10.9145 13.6365 11.3865C13.1645 11.8585 12.5631 12.1799 11.9084 12.3102C11.2537 12.4404 10.5751 12.3735 9.95844 12.1181C9.34174 11.8627 8.81464 11.4301 8.44379 10.8751C8.07294 10.32 7.875 9.66751 7.875 9C7.875 8.1049 8.23058 7.24645 8.86351 6.61352C9.49645 5.98058 10.3549 5.625 11.25 5.625ZM28.5469 27.7748C29.3846 27.01 29.9715 26.0098 30.2305 24.9055C30.4896 23.8012 30.4088 22.6444 29.9986 21.5868C29.5885 20.5293 28.8682 19.6204 27.9322 18.9796C26.9963 18.3387 25.8885 17.9958 24.7542 17.9958C23.6199 17.9958 22.5121 18.3387 21.5762 18.9796C20.6403 19.6204 19.92 20.5293 19.5098 21.5868C19.0997 22.6444 19.0188 23.8012 19.2779 24.9055C19.537 26.0098 20.1239 27.01 20.9616 27.7748C19.8583 28.2519 18.856 28.9349 18.0084 29.7872C17.1609 28.9349 16.1586 28.2519 15.0553 27.7748C15.893 27.01 16.4799 26.0098 16.739 24.9055C16.998 23.8012 16.9172 22.6444 16.5071 21.5868C16.0969 20.5293 15.3766 19.6204 14.4407 18.9796C13.5048 18.3387 12.397 17.9958 11.2627 17.9958C10.1284 17.9958 9.02055 18.3387 8.08463 18.9796C7.14872 19.6204 6.42842 20.5293 6.01826 21.5868C5.60811 22.6444 5.52727 23.8012 5.78634 24.9055C6.04542 26.0098 6.63231 27.01 7.47 27.7748C5.93529 28.4354 4.60083 29.4871 3.6 30.825C3.51136 30.9432 3.44686 31.0777 3.4102 31.2208C3.37353 31.3639 3.36541 31.5128 3.38631 31.6591C3.4072 31.8054 3.4567 31.9461 3.53197 32.0732C3.60724 32.2003 3.70681 32.3114 3.825 32.4C3.94319 32.4886 4.07768 32.5531 4.2208 32.5898C4.36391 32.6265 4.51285 32.6346 4.6591 32.6137C4.80535 32.5928 4.94606 32.5433 5.07318 32.468C5.2003 32.3928 5.31136 32.2932 5.4 32.175C6.08114 31.2668 6.96437 30.5297 7.97975 30.022C8.99513 29.5143 10.1148 29.25 11.25 29.25C12.3852 29.25 13.5049 29.5143 14.5202 30.022C15.5356 30.5297 16.4189 31.2668 17.1 32.175C17.2792 32.4135 17.5458 32.571 17.8412 32.6129C18.1366 32.6549 18.4365 32.5778 18.675 32.3986C18.76 32.3354 18.8354 32.26 18.8986 32.175C19.5797 31.2668 20.463 30.5297 21.4783 30.022C22.4937 29.5143 23.6134 29.25 24.7486 29.25C25.8838 29.25 27.0035 29.5143 28.0188 30.022C29.0342 30.5297 29.9175 31.2668 30.5986 32.175C30.7778 32.4137 31.0445 32.5714 31.34 32.6135C31.6355 32.6556 31.9356 32.5785 32.1743 32.3993C32.413 32.2201 32.5707 31.9534 32.6128 31.6579C32.6548 31.3624 32.5778 31.0623 32.3986 30.8236C31.4028 29.4886 30.0749 28.4375 28.5469 27.7748ZM11.25 20.25C11.9175 20.25 12.57 20.4479 13.125 20.8188C13.6801 21.1896 14.1126 21.7167 14.3681 22.3334C14.6235 22.9501 14.6904 23.6287 14.5602 24.2834C14.4299 24.9381 14.1085 25.5395 13.6365 26.0115C13.1645 26.4835 12.5631 26.8049 11.9084 26.9352C11.2537 27.0654 10.5751 26.9985 9.95844 26.7431C9.34174 26.4876 8.81464 26.0551 8.44379 25.5C8.07294 24.945 7.875 24.2925 7.875 23.625C7.875 22.7299 8.23058 21.8715 8.86351 21.2385C9.49645 20.6056 10.3549 20.25 11.25 20.25ZM24.75 20.25C25.4175 20.25 26.07 20.4479 26.625 20.8188C27.1801 21.1896 27.6126 21.7167 27.8681 22.3334C28.1235 22.9501 28.1904 23.6287 28.0602 24.2834C27.9299 24.9381 27.6085 25.5395 27.1365 26.0115C26.6645 26.4835 26.0631 26.8049 25.4084 26.9352C24.7537 27.0654 24.0751 26.9985 23.4584 26.7431C22.8417 26.4876 22.3146 26.0551 21.9438 25.5C21.5729 24.945 21.375 24.2925 21.375 23.625C21.375 22.7299 21.7306 21.8715 22.3635 21.2385C22.9964 20.6056 23.8549 20.25 24.75 20.25Z"
              fill="#155F2F" />
          </svg>
        </div>
        <div class="flex flex-col text-left">
          <p class="text-sm">Jumlah Nasabah Terdaftar</p>
          <h1 class="mt-1 font-bold text-3xl">{{ totalNasabah }}</h1>
        </div>
      </div>
    </div>
    <div class="py-3 px-2 rounded-xl bg-white h-24">
      <div class="flex flex-row gap-5">
        <div class="rounded-full bg-surface p-3">
          <svg width="34" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M34.4251 21.15C34.3069 21.2386 34.1724 21.3031 34.0293 21.3398C33.8862 21.3765 33.7372 21.3846 33.591 21.3637C33.4447 21.3428 33.304 21.2933 33.1769 21.218C33.0498 21.1428 32.9387 21.0432 32.8501 20.925C32.172 20.0136 31.2894 19.274 30.2733 18.766C29.2572 18.258 28.1361 17.9956 27.0001 18C26.7788 18 26.5625 17.9347 26.3782 17.8124C26.1938 17.6901 26.0497 17.5162 25.9637 17.3123C25.9053 17.1739 25.8752 17.0252 25.8752 16.875C25.8752 16.7248 25.9053 16.5761 25.9637 16.4377C26.0497 16.2338 26.1938 16.0599 26.3782 15.9376C26.5625 15.8153 26.7788 15.75 27.0001 15.75C27.6313 15.7499 28.2498 15.5729 28.7855 15.2389C29.3211 14.9049 29.7523 14.4274 30.0302 13.8606C30.3081 13.2938 30.4214 12.6605 30.3573 12.0325C30.2933 11.4046 30.0544 10.8071 29.6678 10.3081C29.2813 9.80911 28.7625 9.42851 28.1705 9.20955C27.5785 8.99059 26.9369 8.94205 26.3186 9.06944C25.7004 9.19684 25.1303 9.49505 24.673 9.93022C24.2158 10.3654 23.8897 10.9201 23.7319 11.5312C23.695 11.6744 23.6302 11.8088 23.5413 11.9269C23.4525 12.045 23.3412 12.1444 23.2139 12.2195C23.0865 12.2946 22.9457 12.3439 22.7993 12.3645C22.653 12.3852 22.504 12.3768 22.3608 12.3398C22.2177 12.3029 22.0833 12.2381 21.9652 12.1493C21.8471 12.0604 21.7477 11.9491 21.6726 11.8218C21.5975 11.6944 21.5482 11.5536 21.5276 11.4072C21.5069 11.2609 21.5153 11.1119 21.5522 10.9687C21.7713 10.1212 22.1851 9.33651 22.7608 8.67706C23.3364 8.0176 24.0581 7.5016 24.8683 7.17012C25.6784 6.83863 26.5548 6.70081 27.4276 6.76762C28.3004 6.83443 29.1456 7.10402 29.8959 7.55495C30.6462 8.00588 31.2809 8.6257 31.7495 9.36509C32.2181 10.1045 32.5077 10.943 32.5951 11.814C32.6826 12.685 32.5656 13.5644 32.2535 14.3822C31.9413 15.2 31.4426 15.9337 30.7969 16.5248C32.3267 17.1872 33.6565 18.2382 34.6543 19.5736C34.7429 19.6921 34.8073 19.8269 34.8438 19.9703C34.8802 20.1137 34.888 20.2629 34.8667 20.4094C34.8454 20.5558 34.7955 20.6966 34.7197 20.8237C34.6439 20.9508 34.5438 21.0617 34.4251 21.15ZM26.8482 29.8125C26.9296 29.9405 26.9842 30.0837 27.0089 30.2334C27.0335 30.3832 27.0276 30.5363 26.9915 30.6837C26.9554 30.8311 26.8898 30.9696 26.7988 31.091C26.7078 31.2124 26.5931 31.3141 26.4618 31.39C26.3304 31.466 26.1851 31.5145 26.0344 31.5328C25.8838 31.5511 25.7311 31.5388 25.5853 31.4965C25.4396 31.4542 25.304 31.3829 25.1865 31.2868C25.0691 31.1908 24.9723 31.0719 24.9019 30.9375C24.1933 29.7375 23.1839 28.743 21.9736 28.0522C20.7633 27.3613 19.3937 26.9979 18.0001 26.9979C16.6064 26.9979 15.2369 27.3613 14.0265 28.0522C12.8162 28.743 11.8069 29.7375 11.0982 30.9375C11.0279 31.0719 10.9311 31.1908 10.8136 31.2868C10.6962 31.3829 10.5605 31.4542 10.4148 31.4965C10.2691 31.5388 10.1163 31.5511 9.96568 31.5328C9.81506 31.5145 9.6697 31.466 9.53834 31.39C9.40698 31.3141 9.29234 31.2124 9.20131 31.091C9.11028 30.9696 9.04474 30.8311 9.00864 30.6837C8.97255 30.5363 8.96663 30.3832 8.99126 30.2334C9.01588 30.0837 9.07054 29.9405 9.15194 29.8125C10.2426 27.9385 11.9056 26.4638 13.8966 25.605C12.7763 24.7472 11.9529 23.56 11.5423 22.2101C11.1316 20.8602 11.1543 19.4155 11.6071 18.0792C12.06 16.7428 12.9202 15.582 14.0669 14.7598C15.2136 13.9377 16.5891 13.4955 18.0001 13.4955C19.411 13.4955 20.7866 13.9377 21.9332 14.7598C23.0799 15.582 23.9402 16.7428 24.393 18.0792C24.8458 19.4155 24.8685 20.8602 24.4578 22.2101C24.0472 23.56 23.2238 24.7472 22.1035 25.605C24.0945 26.4638 25.7575 27.9385 26.8482 29.8125ZM18.0001 24.75C18.8901 24.75 19.7601 24.4861 20.5001 23.9916C21.2401 23.4971 21.8169 22.7943 22.1575 21.9721C22.4981 21.1498 22.5872 20.245 22.4136 19.3721C22.24 18.4992 21.8114 17.6974 21.182 17.068C20.5527 16.4387 19.7509 16.0101 18.878 15.8365C18.0051 15.6628 17.1003 15.7519 16.278 16.0925C15.4557 16.4331 14.7529 17.0099 14.2584 17.7499C13.764 18.49 13.5001 19.36 13.5001 20.25C13.5001 21.4435 13.9742 22.5881 14.8181 23.432C15.662 24.2759 16.8066 24.75 18.0001 24.75ZM10.1251 16.875C10.1251 16.5766 10.0065 16.2905 9.79556 16.0795C9.58458 15.8685 9.29843 15.75 9.00006 15.75C8.36883 15.7499 7.75027 15.5729 7.21464 15.2389C6.67901 14.9049 6.24777 14.4274 5.96992 13.8606C5.69206 13.2938 5.57872 12.6605 5.64278 12.0325C5.70683 11.4046 5.94571 10.8071 6.33227 10.3081C6.71884 9.80911 7.2376 9.42851 7.82964 9.20955C8.42167 8.99059 9.06324 8.94205 9.68148 9.06944C10.2997 9.19684 10.8698 9.49505 11.3271 9.93022C11.7843 10.3654 12.1104 10.9201 12.2682 11.5312C12.3428 11.8203 12.5291 12.0679 12.7863 12.2195C13.0434 12.3712 13.3502 12.4144 13.6393 12.3398C13.9283 12.2653 14.1759 12.0789 14.3275 11.8218C14.4792 11.5646 14.5225 11.2578 14.4479 10.9687C14.2288 10.1212 13.815 9.33651 13.2394 8.67706C12.6637 8.0176 11.9421 7.5016 11.1319 7.17012C10.3217 6.83863 9.44532 6.70081 8.5725 6.76762C7.69968 6.83443 6.8545 7.10402 6.10421 7.55495C5.35391 8.00588 4.71922 8.6257 4.25062 9.36509C3.78202 10.1045 3.49246 10.943 3.40497 11.814C3.31748 12.685 3.43448 13.5644 3.74665 14.3822C4.05883 15.2 4.55757 15.9337 5.20319 16.5248C3.67499 17.1878 2.34669 18.2388 1.35006 19.5736C1.17085 19.8123 1.09381 20.1124 1.13587 20.4079C1.17793 20.7034 1.33566 20.9701 1.57436 21.1493C1.81305 21.3285 2.11316 21.4056 2.40866 21.3635C2.70416 21.3214 2.97085 21.1637 3.15006 20.925C3.82814 20.0136 4.71074 19.274 5.72681 18.766C6.74289 18.258 7.86406 17.9956 9.00006 18C9.29843 18 9.58458 17.8815 9.79556 17.6705C10.0065 17.4595 10.1251 17.1734 10.1251 16.875Z"
              fill="#155F2F" />
          </svg>
        </div>
        <div class="flex flex-col text-left">
          <p class="text-sm">Jumlah Pegawai Bank Sampah</p>
          <h1 class="mt-1 font-bold text-3xl">{{ totalAdmin }}</h1>
        </div>
      </div>
    </div>
    <div class="py-3 px-2 rounded-xl bg-white h-24">
      <div class="flex flex-row gap-5">
        <div class="rounded-full bg-surface p-3">
          <svg width="33" height="35" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M30.375 6.75H5.625C5.32663 6.75 5.04048 6.86853 4.82951 7.0795C4.61853 7.29048 4.5 7.57663 4.5 7.875C4.5 8.17337 4.61853 8.45952 4.82951 8.6705C5.04048 8.88147 5.32663 9 5.625 9H6.75V29.25C6.75 29.8467 6.98705 30.419 7.40901 30.841C7.83097 31.2629 8.40326 31.5 9 31.5H27C27.5967 31.5 28.169 31.2629 28.591 30.841C29.0129 30.419 29.25 29.8467 29.25 29.25V9H30.375C30.6734 9 30.9595 8.88147 31.1705 8.6705C31.3815 8.45952 31.5 8.17337 31.5 7.875C31.5 7.57663 31.3815 7.29048 31.1705 7.0795C30.9595 6.86853 30.6734 6.75 30.375 6.75ZM27 29.25H9V9H27V29.25ZM11.25 3.375C11.25 3.07663 11.3685 2.79048 11.5795 2.5795C11.7905 2.36853 12.0766 2.25 12.375 2.25H23.625C23.9234 2.25 24.2095 2.36853 24.4205 2.5795C24.6315 2.79048 24.75 3.07663 24.75 3.375C24.75 3.67337 24.6315 3.95952 24.4205 4.1705C24.2095 4.38147 23.9234 4.5 23.625 4.5H12.375C12.0766 4.5 11.7905 4.38147 11.5795 4.1705C11.3685 3.95952 11.25 3.67337 11.25 3.375Z"
              fill="#155F2F" />
          </svg>
        </div>
        <div class="flex flex-col text-left">
          <p class="text-sm">Jumlah Sampah</p>
          <h1 class="mt-1 font-bold text-3xl">{{ totalSampah }}</h1>
        </div>
      </div>
    </div>
  </div>
  <div class="grid grid-cols-2 mt-5 gap-5">
    <div v-if="!isNasabah" class="p-6 rounded-xl bg-white h-80">
      <div class="flex justify-between items-center">
        <h3 class="text-xl font-medium">Data Nasabah Terakhir</h3>
        <router-link to="/Customer">
          <button type="button"
            class="text-white bg-primary hover:bg-green-800 focus:ring-4 focus:ring-blue-300 font-light rounded-lg text-sm py-2 px-4  dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Lihat
            Semua</button>
        </router-link>
      </div>
      <div class="mt-5">
        <table class="w-full table-auto text-sm text-left text-gray-500 dark:text-gray-400">
          <thead class="text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400">
            <tr>
              <th scope="col" class="px-3 py-3">
                Nomor
              </th>
              <th scope="col" class="px-3 py-3">
                <div class="flex items-center">
                  Nama Nasabah
                  <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                      fill="currentColor" viewBox="0 0 320 512">
                      <path
                        d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                    </svg></a>
                </div>
              </th>
              <th scope="col" class="px-3 py-3 w-7/12">
                <div class="flex items-center">
                  Alamat
                  <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                      fill="currentColor" viewBox="0 0 320 512">
                      <path
                        d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                    </svg></a>
                </div>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(latestCustomer, index ) in latestCustomers" :key="latestCustomer.id"
              class="bg-white border-b text-gray-900 dark:bg-gray-800 dark:border-gray-700">
              <td scope="row" class="px-3 py-2 dark:text-white">
                {{ index + 1 }}
              </td>
              <td class="px-3 py-2 dark:text-white">
                <div class="text-container overflow-hidden whitespace-nowrap overflow-ellipsis">
                  {{ latestCustomer.name }}
                </div>
              </td>
              <td class="px-3 py-2 w-7/12 overflow-hidden">
                <div class="truncate">
                  {{ latestCustomer.address }}
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div v-if="isNasabah" class="p-6 rounded-xl bg-white h-80">
      <div class="flex justify-between items-center">
        <h3 class="text-xl font-medium">Data Transaksi Terakhir</h3>
        <router-link to="/reportMe">
          <button type="button"
            class="text-white bg-primary hover:bg-green-800 focus:ring-4 focus:ring-blue-300 font-light rounded-lg text-sm py-2 px-4  dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Lihat
            Semua</button>
        </router-link>
      </div>
      <div class="mt-5">
        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
          <thead class="text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400">
            <tr>
              <th scope="col" class="px-3 py-3">
                Nomor
              </th>
              <th scope="col" class="px-3 py-3">
                <div class="flex items-center">
                  Tanggal Transaksi
                  <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                      fill="currentColor" viewBox="0 0 320 512">
                      <path
                        d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                    </svg></a>
                </div>
              </th>
              <th scope="col" class="px-3 py-3">
                <div class="flex items-center">
                  Nama Nasabah
                  <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                      fill="currentColor" viewBox="0 0 320 512">
                      <path
                        d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                    </svg></a>
                </div>
              </th>

            </tr>
          </thead>
          <tbody>
            <tr v-for="(transaction, index ) in transactionsMe" :key="transaction.id"
              class="bg-white border-b text-gray-900 dark:bg-gray-800 dark:border-gray-700">
              <td scope="row" class="px-3 py-4 dark:text-white">
                {{ index + 1 }}
              </td>
              <td class="px-3 py-4">
                {{ transaction.date }}
              </td>
              <td scope="row" class="px-3 py-4 dark:text-white">
                {{ transaction.nasabah.name }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
    <div class="p-6 rounded-xl bg-white h-80">
      <div class="flex justify-between items-center">
        <h3 class="text-xl font-medium">Data Sampah Terakhir</h3>
        <router-link to="/trash">
          <button type="button"
            class="text-white bg-primary hover:bg-green-800 focus:ring-4 focus:ring-blue-300 font-light rounded-lg text-sm py-2 px-4 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Lihat
            Semua</button>
        </router-link>
      </div>
      <div class="mt-5">
        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
          <thead class="text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400">
            <tr>
              <th scope="col" class="px-3 py-3">
                Nomor
              </th>
              <th scope="col" class="px-3 py-3">
                <div class="flex items-center">
                  Nama Sampah
                  <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                      fill="currentColor" viewBox="0 0 320 512">
                      <path
                        d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                    </svg></a>
                </div>
              </th>
              <th scope="col" class="px-3 py-3">
                <div class="flex items-center">
                  Harga
                  <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                      fill="currentColor" viewBox="0 0 320 512">
                      <path
                        d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                    </svg></a>
                </div>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(trash, index ) in trashes" :key="trash.id"
              class="bg-white border-b text-gray-900 dark:bg-gray-800 dark:border-gray-700">
              <td scope="row" class="px-3 py-2 dark:text-white">
                {{ index + 1 }}
              </td>
              <td scope="row" class="px-3 py-2 dark:text-white">
                {{ trash.name }}
              </td>
              <td class="px-3 py-2">
                {{ trash.price }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div v-if="!isNasabah" class="mt-5">
    <div class="p-6 rounded-xl bg-white h-fit">
      <div class="flex justify-between items-center">
        <h3 class="text-xl font-medium">Transaksi Terakhir Nasabah</h3>
        <router-link to="/report">
          <button type="button"
            class="text-white bg-primary hover:bg-green-800 focus:ring-4 focus:ring-blue-300 font-light rounded-lg text-sm py-2 px-4 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Lihat
            Semua</button>
        </router-link>
      </div>
      <div class="mt-5">
        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
          <thead class="text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400">
            <tr>
              <th scope="col" class="px-3 py-3">
                Nomor
              </th>
              <th scope="col" class="px-3 py-3">
                <div class="flex items-center">
                  Tanggal Transaksi
                  <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                      fill="currentColor" viewBox="0 0 320 512">
                      <path
                        d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                    </svg></a>
                </div>
              </th>
              <th scope="col" class="px-3 py-3">
                <div class="flex items-center">
                  Nama Nasabah
                  <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                      fill="currentColor" viewBox="0 0 320 512">
                      <path
                        d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                    </svg></a>
                </div>
              </th>
              <th scope="col" class="px-3 py-3">
                <div class="flex items-center">
                  Lihat Detail
                </div>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(transaction, index) in transactions" :key="transaction.id"
              class="bg-white border-b text-gray-900 dark:bg-gray-800 dark:border-gray-700">
              <td scope="row" class="px-3 py-4 dark:text-white">
                {{ index + 1 }}
              </td>
              <td class="px-3 py-4">
                {{ transaction.date }}
              </td>
              <td scope="row" class="px-3 py-4 dark:text-white">
                {{ transaction.nasabah.name }}
              </td>
              <td class="px-3 py-4">
                <div @click="openModal(transaction.nasabah.id, transaction.date)">
                  <button type="button"
                    class="text-white bg-primary hover:bg-green-800 focus:ring-4 focus:ring-blue-300 font-light rounded-lg text-sm py-1 px-4">Lihat
                    Detail</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <div v-if="popupActive">
          <transition name="modal-animation">
            <div class="fixed w-full h-full top-0 left-0 flex items-center justify-center">
              <div class="modal-overlay absolute z-50 w-full h-full bg-gray-900 opacity-50"></div>
              <div class="bg-white w-2/5 mx-auto rounded shadow-lg z-50 overflow-y-auto">
                <div class="modal-content py-16 text-left px-10">
                  <div>
                    <div class="flex justify-center mb-8">
                      <h3 class="text-2xl">Detail Sampah</h3>
                    </div>
                    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                      <thead class="text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400">
                        <tr>
                          <th scope="col" class="px-3 py-3">
                            Nomor
                          </th>
                          <th scope="col" class="px-3 py-3">
                            <div class="flex items-center">
                              Jenis Sampah
                              <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                                  fill="currentColor" viewBox="0 0 320 512">
                                  <path
                                    d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                                </svg></a>
                            </div>
                          </th>
                          <th scope="col" class="px-3 py-3">
                            <div class="flex items-center">
                              Berat
                              <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                                  fill="currentColor" viewBox="0 0 320 512">
                                  <path
                                    d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                                </svg></a>
                            </div>
                          </th>
                          <th scope="col" class="px-3 py-3">
                            <div class="flex items-center">
                              Harga
                              <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 ml-1" aria-hidden="true"
                                  fill="currentColor" viewBox="0 0 320 512">
                                  <path
                                    d="M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z" />
                                </svg></a>
                            </div>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr v-for="(detail, index) in detailItems.garbages" :key="detail.name"
                          class="bg-white border-b text-gray-900 dark:bg-gray-800 dark:border-gray-700">
                          <td scope="row" class="px-3 py-2 dark:text-white">
                            {{ index + 1 }}
                          </td>
                          <td scope="row" class="px-3 py-2 dark:text-white">
                            {{ detail.garbage }}
                          </td>
                          <td class="px-3 py-2">
                            {{ detail.weight }}
                          </td>
                          <td class="px-3 py-2">
                            {{ detail.price }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="flex justify-between text-base text-black">
                      <div>
                        <p>Total :</p>
                      </div>
                      <div class="mr-24">
                        <p>{{ detailItems.total }}</p>
                      </div>
                    </div>
                  </div>
                  <div class="flex justify-center pt-2">
                    <button @click="closeModal"
                      class="px-4 text-white bg-primary hover:bg-green-800 focus:ring-4 focus:ring-blue-300 font-light rounded-lg text-sm py-2 mr-2">Close</button>
                  </div>
                </div>
              </div>
            </div>
          </transition>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import axios from 'axios';
export default {
  data() {
    return {
      latestCustomers: [],
      trashes: [],
      admins: [],
      transactions: [],
      transactionsMe: [],
      detailItems: [],
      role: '',
      totalNasabah: 0,
      totalSampah: 0,
      totalAdmin: 0,
      popupActive: false,
    }
  },
  methods: {
    async fetchUserRole() {
      try {
        const token = localStorage.token;
        const response = await axios.get('/me', {
          headers: { "Authorization": `Bearer ${token}` }
        });
        this.role = response.data.data.role; // Asumsikan response.data.role berisi peran pengguna
        this.id = response.data.data.id; // Asumsikan response.data.role berisi peran pengguna
        this.isLoading = false;
      } catch (error) {
        console.log(error);
      }
    },
    openModal(id, date) {
      const token = localStorage.token;
      const url = `/deposit/${id}?date=${date}`;

      // Panggil API untuk mendapatkan detail transaksi
      axios.get(url, { headers: { "Authorization": `Bearer ${token}` } })
        .then(response => {
          this.detailItems = response.data.data;
          this.popupActive = true;
        })
        .catch(error => {
          console.error(error);
        });
    },
    closeModal() {
      this.popupActive = false;
    },
  },
  async mounted() {
    await this.fetchUserRole();
    const token = localStorage.token
    axios.get('user?role=nasabah', { headers: { "Authorization": `Bearer ${token}` } })
      .then(response => {

        this.latestCustomers = response.data.data;
        this.totalNasabah = response.data.meta.total;
      })
      .catch(error => {
        console.error(error);
      });
    axios.get('garbage', { headers: { "Authorization": `Bearer ${token}` } })
      .then(response => {

        this.trashes = response.data.data;
        this.totalSampah = response.data.meta.total;
      })
      .catch(error => {
        console.error(error);
      });
    axios.get('user?role=admin', { headers: { "Authorization": `Bearer ${token}` } })
      .then(response => {

        this.admins = response.data.data;
        this.totalAdmin = response.data.meta.total;
      })
      .catch(error => {
        console.error(error);
      });
    axios.get('deposit', { headers: { "Authorization": `Bearer ${token}` } })
      .then(response => {

        this.transactions = response.data.data;
      })
      .catch(error => {
        console.error(error);
      });
    // Buat objek query parameter berdasarkan input pencarian
    const query = {
      start: '2020-01-01', // Gunakan formattedStartDate sebagai pengganti startDate
      end: '2023-06-30' // Gunakan formattedEndDate sebagai pengganti endDate
    };
    axios.get('transaction', { params: query, headers: { "Authorization": `Bearer ${token}` } })
      .then(response => {

        this.transactionsMe = response.data.data;
        this.totalPages = response.data.meta.last_page;
        this.total = response.data.meta.total;
      })
      .catch(error => {
        console.error(error);
      });
  },
  computed: {
    isAdmin() {
      return this.role === 'admin'; // Validasi apakah role adalah 'admin'
    },
    isSuperadmin() {
      return this.role === 'superadmin'; // Validasi apakah role adalah 'superadmin'
    },
    isNasabah() {
      return this.role === 'nasabah'; // Validasi apakah role adalah 'nasabah'
    },
    // getGridClass() {
    //   return {
    //     "grid grid-cols-3": this.role === "admin" || this.role === "superadmin",
    //     "grid grid-cols-1": this.role === "nasabah",
    //   };
    // },
  }
}

</script>

<style>.truncate-text {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}</style>